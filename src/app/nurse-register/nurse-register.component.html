<div class="register-form">
  <h2>Registro de Enfermeros</h2>

  <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
    <!-- Usuario -->
    <label for="username">Usuario:</label>
    <input
      type="text"
      id="username"
      name="username"
      [(ngModel)]="formData.username"
      #username="ngModel"
      required
      minlength="3"
    />
    <div *ngIf="hasSubmitted && username.invalid" class="error">
      <small *ngIf="username.errors?.['required']">El nombre de usuario es obligatorio.</small>
      <small *ngIf="username.errors?.['minlength']">Debe tener al menos 3 caracteres.</small>
    </div>

    <!-- Email -->
    <label for="email">Email:</label>
    <input
      type="email"
      id="email"
      name="email"
      [(ngModel)]="formData.email"
      #email="ngModel"
      required
    />
    <div *ngIf="hasSubmitted && email.invalid" class="error">
      <small *ngIf="email.errors?.['required']">El email es obligatorio.</small>
      <small *ngIf="email.errors?.['email']">Formato de email inválido.</small>
    </div>

    <!-- Contraseña -->
    <label for="password">Contraseña:</label>
    <input
      type="password"
      id="password"
      name="password"
      [(ngModel)]="formData.password"
      #password="ngModel"
      required
      minlength="6"
    />
    <div *ngIf="hasSubmitted && password.invalid" class="error">
      <small *ngIf="password.errors?.['required']">La contraseña es obligatoria.</small>
      <small *ngIf="password.errors?.['minlength']">Debe tener al menos 6 caracteres.</small>
    </div>

    <!-- Nombre -->
    <label for="name">Nombre:</label>
    <input
      type="text"
      id="name"
      name="name"
      [(ngModel)]="formData.name"
      #name="ngModel"
      required
    />
    <div *ngIf="hasSubmitted && name.invalid" class="error">
      <small>El nombre es obligatorio.</small>
    </div>

    <!-- Apellido -->
    <label for="surname">Apellido:</label>
    <input
      type="text"
      id="surname"
      name="surname"
      [(ngModel)]="formData.surname"
      #surname="ngModel"
      required
    />
    <div *ngIf="hasSubmitted && surname.invalid" class="error">
      <small>El apellido es obligatorio.</small>
    </div>

    <!-- Especialidad -->
    <label for="speciality">Especialidad:</label>
    <input
      type="text"
      id="speciality"
      name="speciality"
      [(ngModel)]="formData.speciality"
      #speciality="ngModel"
      required
    />
    <div *ngIf="hasSubmitted && speciality.invalid" class="error">
      <small>La especialidad es obligatoria.</small>
    </div>

    <!-- Turno -->
    <label for="shift">Turno:</label>
    <select
      id="shift"
      name="shift"
      [(ngModel)]="formData.shift"
      #shift="ngModel"
      required
    >
      <option value="" disabled>Selecciona un turno</option>
      <option value="Mañana">Mañana</option>
      <option value="Tarde">Tarde</option>
      <option value="Noche">Noche</option>
    </select>
    <div *ngIf="hasSubmitted && shift.invalid" class="error">
      <small>El turno es obligatorio.</small>
    </div>

    <!-- Teléfono -->
    <label for="phone">Teléfono:</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      [(ngModel)]="formData.phone"
      #phone="ngModel"
      required
      pattern="^\d{3}-\d{3}-\d{3}$"
    />
    <div *ngIf="hasSubmitted && phone.invalid" class="error">
      <small *ngIf="phone.errors?.['required']">El teléfono es obligatorio.</small>
      <small *ngIf="phone.errors?.['pattern']">Formato inválido. Ej.: 123-456-789</small>
    </div>

    <!-- Botón de registro -->
    <button type="submit" [disabled]="registerForm.invalid">
      Registrar
    </button>
  </form>

  <!-- Mensajes de éxito y error -->
  <div class="message-container" *ngIf="successMessage || errorMessage">
    <div *ngIf="successMessage" class="message-container success">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="message-container error">
      {{ errorMessage }}
    </div>
  </div>
</div>
