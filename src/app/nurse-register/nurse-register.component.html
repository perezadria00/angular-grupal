<div class="register-form">
  <h2>Registro de Enfermeros</h2>

  <form (ngSubmit)="onSubmit(registerForm)" #registerForm="ngForm">
    <!-- Username -->
    <label for="username">Usuario:</label>
    <input
      type="text"
      id="username"
      name="username"
      [(ngModel)]="formData.username"
      #username="ngModel"
      required
      minlength="3"
    />
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="username.invalid && (username.touched || showErrors)"
      >
        <span *ngIf="username.errors?.['required']">El nombre de usuario es obligatorio.</span>
        <span *ngIf="username.errors?.['minlength']">Debe tener al menos 3 caracteres.</span>
      </small>
    </div>

    <!-- Password -->
    <label for="password">Contraseña:</label>
    <input
      type="password"
      id="password"
      name="password"
      [(ngModel)]="formData.password"
      #password="ngModel"
      required
      minlength="6"
    />
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="password.invalid && (password.touched || showErrors)"
      >
        <span *ngIf="password.errors?.['required']">La contraseña es obligatoria.</span>
        <span *ngIf="password.errors?.['minlength']">Debe tener al menos 6 caracteres.</span>
      </small>
    </div>

    <!-- Nombre -->
    <label for="name">Nombre:</label>
    <input
      type="text"
      id="name"
      name="name"
      [(ngModel)]="formData.name"
      #name="ngModel"
      required
    />
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="name.invalid && (name.touched || showErrors)"
      >
        El nombre es obligatorio.
      </small>
    </div>

    <!-- Apellido -->
    <label for="surname">Apellido:</label>
    <input
      type="text"
      id="surname"
      name="surname"
      [(ngModel)]="formData.surname"
      #surname="ngModel"
      required
    />
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="surname.invalid && (surname.touched || showErrors)"
      >
        El apellido es obligatorio.
      </small>
    </div>

    <!-- Especialidad -->
    <label for="speciality">Especialidad:</label>
    <input
      type="text"
      id="speciality"
      name="speciality"
      [(ngModel)]="formData.speciality"
      #speciality="ngModel"
      required
    />
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="speciality.invalid && (speciality.touched || showErrors)"
      >
        La especialidad es obligatoria.
      </small>
    </div>

    <!-- Turno -->
    <label for="shift">Turno:</label>
    <select
      id="shift"
      name="shift"
      [(ngModel)]="formData.shift"
      #shift="ngModel"
      required
    >
      <option value="" disabled>Selecciona un turno</option>
      <option value="Mañana">Mañana</option>
      <option value="Tarde">Tarde</option>
      <option value="Noche">Noche</option>
    </select>
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="shift.invalid && (shift.touched || showErrors)"
      >
        El turno es obligatorio.
      </small>
    </div>

    <!-- Teléfono -->
    <label for="phone">Teléfono:</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      [(ngModel)]="formData.phone"
      #phone="ngModel"
      required
      pattern="^\d{3}-\d{3}-\d{3}$"
    />
    <div class="error-message-container">
      <small
        class="error-message"
        *ngIf="phone.invalid && (phone.touched || showErrors)"
      >
        <span *ngIf="phone.errors?.['required']">El teléfono es obligatorio.</span>
        <span *ngIf="phone.errors?.['pattern']">Formato inválido. Ej.: 123-456-789</span>
      </small>
    </div>

    <!-- Botón de registro -->
    <button type="submit" [disabled]="registerForm.invalid">
      Registrar
    </button>
  </form>

  <!-- Mensajes de éxito y error -->
  <div class="message-container" *ngIf="successMessage || errorMessage">
    <div *ngIf="successMessage" class="message-container success">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="message-container error">
      {{ errorMessage }}
    </div>
  </div>
</div>
